import{g as y,a as b,b as S,r as x,c as $,_ as M,d as p,j as l,e as N,f as j,h as J,i as W,k as E,s as Y,u as U,T as R,l as V,m as ee,n as te,o as se,p as oe,q as A,t as O,v as ne,w as re}from"./index-7d733c5a.js";import{H as ie,F as ae}from"./Footer-c5fc6899.js";import{M as ce}from"./Main-7f9bb582.js";import{u as le,X as de,G as ue,w as pe,a as fe}from"./CommonTrail-5a1e063a.js";import{P as me,B as D}from"./Button-a33ce94b.js";import{B as G}from"./Box-a382bb98.js";import"./Container-ef64c08b.js";function ge(e){return y("MuiCard",e)}b("MuiCard",["root"]);const xe=["className","raised"],he=e=>{const{classes:t}=e;return j({root:["root"]},ge,t)},we=S(me,{name:"MuiCard",slot:"Root",overridesResolver:(e,t)=>t.root})(()=>({overflow:"hidden"})),Ce=x.forwardRef(function(t,o){const s=$({props:t,name:"MuiCard"}),{className:n,raised:r=!1}=s,c=M(s,xe),a=p({},s,{raised:r}),i=he(a);return l.jsx(we,p({className:N(i.root,n),elevation:r?8:void 0,ref:o,ownerState:a},c))}),ve=Ce;function ye(e){return y("MuiCardActions",e)}b("MuiCardActions",["root","spacing"]);const be=["disableSpacing","className"],Se=e=>{const{classes:t,disableSpacing:o}=e;return j({root:["root",!o&&"spacing"]},ye,t)},$e=S("div",{name:"MuiCardActions",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:o}=e;return[t.root,!o.disableSpacing&&t.spacing]}})(({ownerState:e})=>p({display:"flex",alignItems:"center",padding:8},!e.disableSpacing&&{"& > :not(:first-of-type)":{marginLeft:8}})),Me=x.forwardRef(function(t,o){const s=$({props:t,name:"MuiCardActions"}),{disableSpacing:n=!1,className:r}=s,c=M(s,be),a=p({},s,{disableSpacing:n}),i=Se(a);return l.jsx($e,p({className:N(i.root,r),ownerState:a,ref:o},c))}),Ne=Me;function je(e){return y("MuiCardContent",e)}b("MuiCardContent",["root"]);const ke=["className","component"],Re=e=>{const{classes:t}=e;return j({root:["root"]},je,t)},We=S("div",{name:"MuiCardContent",slot:"Root",overridesResolver:(e,t)=>t.root})(()=>({padding:16,"&:last-child":{paddingBottom:24}})),Be=x.forwardRef(function(t,o){const s=$({props:t,name:"MuiCardContent"}),{className:n,component:r="div"}=s,c=M(s,ke),a=p({},s,{component:r}),i=Re(a);return l.jsx(We,p({as:r,className:N(i.root,n),ownerState:a,ref:o},c))}),Ge=Be;function Ee(e){return y("MuiCardMedia",e)}b("MuiCardMedia",["root","media","img"]);const Ie=["children","className","component","image","src","style"],ze=e=>{const{classes:t,isMediaComponent:o,isImageComponent:s}=e;return j({root:["root",o&&"media",s&&"img"]},Ee,t)},Pe=S("div",{name:"MuiCardMedia",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:o}=e,{isMediaComponent:s,isImageComponent:n}=o;return[t.root,s&&t.media,n&&t.img]}})(({ownerState:e})=>p({display:"block",backgroundSize:"cover",backgroundRepeat:"no-repeat",backgroundPosition:"center"},e.isMediaComponent&&{width:"100%"},e.isImageComponent&&{objectFit:"cover"})),Te=["video","audio","picture","iframe","img"],Ae=["picture","img"],Oe=x.forwardRef(function(t,o){const s=$({props:t,name:"MuiCardMedia"}),{children:n,className:r,component:c="div",image:a,src:i,style:u}=s,d=M(s,Ie),f=Te.indexOf(c)!==-1,g=!f&&a?p({backgroundImage:`url("${a}")`},u):u,m=p({},s,{component:c,isMediaComponent:f,isImageComponent:Ae.indexOf(c)!==-1}),w=ze(m);return l.jsx(Pe,p({className:N(w.root,r),as:c,role:!f&&a?"img":void 0,ref:o,style:g,ownerState:m,src:f?a||i:void 0},d,{children:n}))}),Le=Oe,_e=x.createContext(),L=_e;function Ue(e){return y("MuiGrid",e)}const Ve=[0,1,2,3,4,5,6,7,8,9,10],De=["column-reverse","column","row-reverse","row"],Ke=["nowrap","wrap-reverse","wrap"],C=["auto",!0,1,2,3,4,5,6,7,8,9,10,11,12],v=b("MuiGrid",["root","container","item","zeroMinWidth",...Ve.map(e=>`spacing-xs-${e}`),...De.map(e=>`direction-xs-${e}`),...Ke.map(e=>`wrap-xs-${e}`),...C.map(e=>`grid-xs-${e}`),...C.map(e=>`grid-sm-${e}`),...C.map(e=>`grid-md-${e}`),...C.map(e=>`grid-lg-${e}`),...C.map(e=>`grid-xl-${e}`)]),Fe=["className","columns","columnSpacing","component","container","direction","item","rowSpacing","spacing","wrap","zeroMinWidth"];function h(e){const t=parseFloat(e);return`${t}${String(e).replace(String(t),"")||"px"}`}function qe({theme:e,ownerState:t}){let o;return e.breakpoints.keys.reduce((s,n)=>{let r={};if(t[n]&&(o=t[n]),!o)return s;if(o===!0)r={flexBasis:0,flexGrow:1,maxWidth:"100%"};else if(o==="auto")r={flexBasis:"auto",flexGrow:0,flexShrink:0,maxWidth:"none",width:"auto"};else{const c=W({values:t.columns,breakpoints:e.breakpoints.values}),a=typeof c=="object"?c[n]:c;if(a==null)return s;const i=`${Math.round(o/a*1e8)/1e6}%`;let u={};if(t.container&&t.item&&t.columnSpacing!==0){const d=e.spacing(t.columnSpacing);if(d!=="0px"){const f=`calc(${i} + ${h(d)})`;u={flexBasis:f,maxWidth:f}}}r=p({flexBasis:i,flexGrow:0,maxWidth:i},u)}return e.breakpoints.values[n]===0?Object.assign(s,r):s[e.breakpoints.up(n)]=r,s},{})}function Ze({theme:e,ownerState:t}){const o=W({values:t.direction,breakpoints:e.breakpoints.values});return E({theme:e},o,s=>{const n={flexDirection:s};return s.indexOf("column")===0&&(n[`& > .${v.item}`]={maxWidth:"none"}),n})}function K({breakpoints:e,values:t}){let o="";Object.keys(t).forEach(n=>{o===""&&t[n]!==0&&(o=n)});const s=Object.keys(e).sort((n,r)=>e[n]-e[r]);return s.slice(0,s.indexOf(o))}function He({theme:e,ownerState:t}){const{container:o,rowSpacing:s}=t;let n={};if(o&&s!==0){const r=W({values:s,breakpoints:e.breakpoints.values});let c;typeof r=="object"&&(c=K({breakpoints:e.breakpoints.values,values:r})),n=E({theme:e},r,(a,i)=>{var u;const d=e.spacing(a);return d!=="0px"?{marginTop:`-${h(d)}`,[`& > .${v.item}`]:{paddingTop:h(d)}}:(u=c)!=null&&u.includes(i)?{}:{marginTop:0,[`& > .${v.item}`]:{paddingTop:0}}})}return n}function Xe({theme:e,ownerState:t}){const{container:o,columnSpacing:s}=t;let n={};if(o&&s!==0){const r=W({values:s,breakpoints:e.breakpoints.values});let c;typeof r=="object"&&(c=K({breakpoints:e.breakpoints.values,values:r})),n=E({theme:e},r,(a,i)=>{var u;const d=e.spacing(a);return d!=="0px"?{width:`calc(100% + ${h(d)})`,marginLeft:`-${h(d)}`,[`& > .${v.item}`]:{paddingLeft:h(d)}}:(u=c)!=null&&u.includes(i)?{}:{width:"100%",marginLeft:0,[`& > .${v.item}`]:{paddingLeft:0}}})}return n}function Qe(e,t,o={}){if(!e||e<=0)return[];if(typeof e=="string"&&!Number.isNaN(Number(e))||typeof e=="number")return[o[`spacing-xs-${String(e)}`]];const s=[];return t.forEach(n=>{const r=e[n];Number(r)>0&&s.push(o[`spacing-${n}-${String(r)}`])}),s}const Je=S("div",{name:"MuiGrid",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:o}=e,{container:s,direction:n,item:r,spacing:c,wrap:a,zeroMinWidth:i,breakpoints:u}=o;let d=[];s&&(d=Qe(c,u,t));const f=[];return u.forEach(g=>{const m=o[g];m&&f.push(t[`grid-${g}-${String(m)}`])}),[t.root,s&&t.container,r&&t.item,i&&t.zeroMinWidth,...d,n!=="row"&&t[`direction-xs-${String(n)}`],a!=="wrap"&&t[`wrap-xs-${String(a)}`],...f]}})(({ownerState:e})=>p({boxSizing:"border-box"},e.container&&{display:"flex",flexWrap:"wrap",width:"100%"},e.item&&{margin:0},e.zeroMinWidth&&{minWidth:0},e.wrap!=="wrap"&&{flexWrap:e.wrap}),Ze,He,Xe,qe);function Ye(e,t){if(!e||e<=0)return[];if(typeof e=="string"&&!Number.isNaN(Number(e))||typeof e=="number")return[`spacing-xs-${String(e)}`];const o=[];return t.forEach(s=>{const n=e[s];if(Number(n)>0){const r=`spacing-${s}-${String(n)}`;o.push(r)}}),o}const et=e=>{const{classes:t,container:o,direction:s,item:n,spacing:r,wrap:c,zeroMinWidth:a,breakpoints:i}=e;let u=[];o&&(u=Ye(r,i));const d=[];i.forEach(g=>{const m=e[g];m&&d.push(`grid-${g}-${String(m)}`)});const f={root:["root",o&&"container",n&&"item",a&&"zeroMinWidth",...u,s!=="row"&&`direction-xs-${String(s)}`,c!=="wrap"&&`wrap-xs-${String(c)}`,...d]};return j(f,Ue,t)},tt=x.forwardRef(function(t,o){const s=$({props:t,name:"MuiGrid"}),{breakpoints:n}=le(),r=J(s),{className:c,columns:a,columnSpacing:i,component:u="div",container:d=!1,direction:f="row",item:g=!1,rowSpacing:m,spacing:w=0,wrap:F="wrap",zeroMinWidth:q=!1}=r,B=M(r,Fe),Z=m||w,H=i||w,X=x.useContext(L),I=d?a||12:X,z={},P=p({},B);n.keys.forEach(k=>{B[k]!=null&&(z[k]=B[k],delete P[k])});const T=p({},r,{columns:I,container:d,direction:f,item:g,rowSpacing:Z,columnSpacing:H,wrap:F,zeroMinWidth:q,spacing:w},z,{breakpoints:n.keys}),Q=et(T);return l.jsx(L.Provider,{value:I,children:l.jsx(Je,p({ownerState:T,className:N(Q.root,c),as:u,ref:o},P))})}),st=tt,ot="/ego-tst/assets/news-bg-6214e82c.jpg",nt=Y.div`
  background: url(${ot}) no-repeat center center fixed;
  background-size: cover;
  min-height: 100vh;
  display: flex;
  flex-direction: column;
  justify-content: space-between;
`;function _(e,t){return e.length===t.length&&e.every((o,s)=>o===t[s])}const rt=({title:e,description:t,onClick:o,isDeleting:s,imageId:n})=>{const{t:r}=U(["news"]),c=`https://picsum.photos/id/${n}/600/400`;return l.jsxs(ve,{sx:{maxWidth:600,width:"100%",borderRadius:"10px"},children:[l.jsx(Le,{component:"img",alt:"mockedNewsImage",height:"140",image:c,sx:{height:"200px"}}),l.jsxs(Ge,{sx:{backgroundColor:"#3b3737",overflow:"hidden"},children:[l.jsx(R,{gutterBottom:!0,variant:"h5",color:"#fff",sx:{textOverflow:"ellipsis",whiteSpace:"nowrap",overflow:"hidden"},children:e}),l.jsx(R,{variant:"body2",color:"#fff",sx:{overflow:"hidden",display:"-webkit-box",WebkitBoxOrient:"vertical",WebkitLineClamp:3},children:t})]}),l.jsx(Ne,{sx:{backgroundColor:"#3b3737",padding:"16px"},children:l.jsx(D,{size:"small",onClick:o,disabled:s,sx:{backgroundColor:"#fff",color:"#3b3737","&:hover":{color:"red"}},children:s?r("helpers.deleting",{ns:["news"]}):r("helpers.delete",{ns:["news"]})})})]})},it=({news:e})=>{const t=V(),[o,{isLoading:s}]=ee(),n=de(),r=ue(e,{ref:n,unique:!0,trail:400/e.length,from:{opacity:0,transform:"scale(0)",width:"100%",overflow:"hidden"},enter:{opacity:1,transform:"scale(1)",width:"100%",overflow:"hidden"},leave:{opacity:0,transform:"scale(0)",width:"100%",overflow:"hidden"}});pe([n],[.1,.3]);const c=async a=>{try{await o(a).unwrap(),t(te(a))}catch(i){console.error("Error deleting news item:",i)}};return l.jsx(st,{sx:{placeItems:"center",display:"grid",gap:"20px",gridTemplateColumns:"repeat(auto-fit, minmax(300px, 1fr))","& > div:first-of-type":{gridColumn:"1 / -1",maxWidth:"100%","& > div":{maxWidth:"100%","& > img":{height:"350px"}}}},children:e&&r((a,i)=>l.jsx(fe.div,{style:a,children:l.jsx(rt,{title:i.title,description:i.body,onClick:()=>c(i.id),imageId:i.id,isDeleting:s},i.id)},i.id))})},mt=()=>{const{t:e,i18n:t}=U(["news"]),o=se(i=>i.news),s=V(),{data:n,isLoading:r,isError:c}=oe(o.limit);x.useEffect(()=>{const i=n&&_(n,o.news);if(n&&!i&&o.limit===10&&(s(A(n)),s(O(n))),n&&!i&&o.limit>10){if(_(o.cachedNews,n))return;const u=[...n].slice(o.limit-10),d=[...o.news,...u];s(O(n)),s(A(d))}},[n]);const a=()=>{s(re(o.limit+10))};return l.jsxs(nt,{children:[l.jsx(ie,{}),l.jsxs(ce,{children:[l.jsx(R,{variant:"h1",fontSize:"3rem",color:"#fff",fontWeight:700,sx:{marginBottom:"20px",marginTop:"20px",textAlign:"center"},children:e("title",{ns:["news"]})}),r&&l.jsx(G,{sx:{display:"flex",justifyContent:"center",alignItems:"center",width:"100%"},children:l.jsx(ne,{withText:!0})}),c&&l.jsx(G,{sx:{display:"flex",justifyContent:"center",alignItems:"center",width:"100%"},children:l.jsx(R,{variant:"body2",color:"red",children:e("helpers.error",{ns:["news"]})})}),l.jsx(it,{news:o.news},t.language),l.jsx(G,{sx:{display:"flex",justifyContent:"center",marginTop:"20px"},children:l.jsx(D,{onClick:a,sx:{backgroundColor:"#3b3737",color:"#fff","&:hover":{backgroundColor:"#fff",color:"#3b3737"}},children:e("helpers.loadMore",{ns:["news"]})})})]}),l.jsx(ae,{})]})};export{mt as default};
