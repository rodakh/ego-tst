import{g as b,a as y,b as S,r as x,c as $,_ as M,d as p,j as l,e as N,f as k,h as J,i as W,k as G,s as Y,u as U,T as R,l as V,m as ee,n as te,o as oe,p as se,q as T,t as A,v as ne,w as re}from"./index-0520d49c.js";import{H as ie,F as ae}from"./Footer-cfbfcfee.js";import{M as ce}from"./Main-c482be96.js";import{u as le,X as de,G as ue,w as pe,a as me}from"./CommonTrail-10626b22.js";import{P as fe,B as D}from"./Button-d87d8f1e.js";import{B as O}from"./Box-a007e536.js";import"./Container-052183c1.js";function ge(e){return b("MuiCard",e)}y("MuiCard",["root"]);const xe=["className","raised"],he=e=>{const{classes:t}=e;return k({root:["root"]},ge,t)},we=S(fe,{name:"MuiCard",slot:"Root",overridesResolver:(e,t)=>t.root})(()=>({overflow:"hidden"})),Ce=x.forwardRef(function(t,s){const o=$({props:t,name:"MuiCard"}),{className:n,raised:r=!1}=o,c=M(o,xe),a=p({},o,{raised:r}),i=he(a);return l.jsx(we,p({className:N(i.root,n),elevation:r?8:void 0,ref:s,ownerState:a},c))}),ve=Ce;function be(e){return b("MuiCardActions",e)}y("MuiCardActions",["root","spacing"]);const ye=["disableSpacing","className"],Se=e=>{const{classes:t,disableSpacing:s}=e;return k({root:["root",!s&&"spacing"]},be,t)},$e=S("div",{name:"MuiCardActions",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:s}=e;return[t.root,!s.disableSpacing&&t.spacing]}})(({ownerState:e})=>p({display:"flex",alignItems:"center",padding:8},!e.disableSpacing&&{"& > :not(:first-of-type)":{marginLeft:8}})),Me=x.forwardRef(function(t,s){const o=$({props:t,name:"MuiCardActions"}),{disableSpacing:n=!1,className:r}=o,c=M(o,ye),a=p({},o,{disableSpacing:n}),i=Se(a);return l.jsx($e,p({className:N(i.root,r),ownerState:a,ref:s},c))}),Ne=Me;function ke(e){return b("MuiCardContent",e)}y("MuiCardContent",["root"]);const je=["className","component"],Re=e=>{const{classes:t}=e;return k({root:["root"]},ke,t)},We=S("div",{name:"MuiCardContent",slot:"Root",overridesResolver:(e,t)=>t.root})(()=>({padding:16,"&:last-child":{paddingBottom:24}})),Be=x.forwardRef(function(t,s){const o=$({props:t,name:"MuiCardContent"}),{className:n,component:r="div"}=o,c=M(o,je),a=p({},o,{component:r}),i=Re(a);return l.jsx(We,p({as:r,className:N(i.root,n),ownerState:a,ref:s},c))}),Ge=Be;function Ee(e){return b("MuiCardMedia",e)}y("MuiCardMedia",["root","media","img"]);const ze=["children","className","component","image","src","style"],Ie=e=>{const{classes:t,isMediaComponent:s,isImageComponent:o}=e;return k({root:["root",s&&"media",o&&"img"]},Ee,t)},Pe=S("div",{name:"MuiCardMedia",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:s}=e,{isMediaComponent:o,isImageComponent:n}=s;return[t.root,o&&t.media,n&&t.img]}})(({ownerState:e})=>p({display:"block",backgroundSize:"cover",backgroundRepeat:"no-repeat",backgroundPosition:"center"},e.isMediaComponent&&{width:"100%"},e.isImageComponent&&{objectFit:"cover"})),Te=["video","audio","picture","iframe","img"],Ae=["picture","img"],Oe=x.forwardRef(function(t,s){const o=$({props:t,name:"MuiCardMedia"}),{children:n,className:r,component:c="div",image:a,src:i,style:u}=o,d=M(o,ze),m=Te.indexOf(c)!==-1,g=!m&&a?p({backgroundImage:`url("${a}")`},u):u,f=p({},o,{component:c,isMediaComponent:m,isImageComponent:Ae.indexOf(c)!==-1}),w=Ie(f);return l.jsx(Pe,p({className:N(w.root,r),as:c,role:!m&&a?"img":void 0,ref:s,style:g,ownerState:f,src:m?a||i:void 0},d,{children:n}))}),Le=Oe,_e=x.createContext(),L=_e;function Ue(e){return b("MuiGrid",e)}const Ve=[0,1,2,3,4,5,6,7,8,9,10],De=["column-reverse","column","row-reverse","row"],Ke=["nowrap","wrap-reverse","wrap"],C=["auto",!0,1,2,3,4,5,6,7,8,9,10,11,12],v=y("MuiGrid",["root","container","item","zeroMinWidth",...Ve.map(e=>`spacing-xs-${e}`),...De.map(e=>`direction-xs-${e}`),...Ke.map(e=>`wrap-xs-${e}`),...C.map(e=>`grid-xs-${e}`),...C.map(e=>`grid-sm-${e}`),...C.map(e=>`grid-md-${e}`),...C.map(e=>`grid-lg-${e}`),...C.map(e=>`grid-xl-${e}`)]),Fe=["className","columns","columnSpacing","component","container","direction","item","rowSpacing","spacing","wrap","zeroMinWidth"];function h(e){const t=parseFloat(e);return`${t}${String(e).replace(String(t),"")||"px"}`}function qe({theme:e,ownerState:t}){let s;return e.breakpoints.keys.reduce((o,n)=>{let r={};if(t[n]&&(s=t[n]),!s)return o;if(s===!0)r={flexBasis:0,flexGrow:1,maxWidth:"100%"};else if(s==="auto")r={flexBasis:"auto",flexGrow:0,flexShrink:0,maxWidth:"none",width:"auto"};else{const c=W({values:t.columns,breakpoints:e.breakpoints.values}),a=typeof c=="object"?c[n]:c;if(a==null)return o;const i=`${Math.round(s/a*1e8)/1e6}%`;let u={};if(t.container&&t.item&&t.columnSpacing!==0){const d=e.spacing(t.columnSpacing);if(d!=="0px"){const m=`calc(${i} + ${h(d)})`;u={flexBasis:m,maxWidth:m}}}r=p({flexBasis:i,flexGrow:0,maxWidth:i},u)}return e.breakpoints.values[n]===0?Object.assign(o,r):o[e.breakpoints.up(n)]=r,o},{})}function Ze({theme:e,ownerState:t}){const s=W({values:t.direction,breakpoints:e.breakpoints.values});return G({theme:e},s,o=>{const n={flexDirection:o};return o.indexOf("column")===0&&(n[`& > .${v.item}`]={maxWidth:"none"}),n})}function K({breakpoints:e,values:t}){let s="";Object.keys(t).forEach(n=>{s===""&&t[n]!==0&&(s=n)});const o=Object.keys(e).sort((n,r)=>e[n]-e[r]);return o.slice(0,o.indexOf(s))}function He({theme:e,ownerState:t}){const{container:s,rowSpacing:o}=t;let n={};if(s&&o!==0){const r=W({values:o,breakpoints:e.breakpoints.values});let c;typeof r=="object"&&(c=K({breakpoints:e.breakpoints.values,values:r})),n=G({theme:e},r,(a,i)=>{var u;const d=e.spacing(a);return d!=="0px"?{marginTop:`-${h(d)}`,[`& > .${v.item}`]:{paddingTop:h(d)}}:(u=c)!=null&&u.includes(i)?{}:{marginTop:0,[`& > .${v.item}`]:{paddingTop:0}}})}return n}function Xe({theme:e,ownerState:t}){const{container:s,columnSpacing:o}=t;let n={};if(s&&o!==0){const r=W({values:o,breakpoints:e.breakpoints.values});let c;typeof r=="object"&&(c=K({breakpoints:e.breakpoints.values,values:r})),n=G({theme:e},r,(a,i)=>{var u;const d=e.spacing(a);return d!=="0px"?{width:`calc(100% + ${h(d)})`,marginLeft:`-${h(d)}`,[`& > .${v.item}`]:{paddingLeft:h(d)}}:(u=c)!=null&&u.includes(i)?{}:{width:"100%",marginLeft:0,[`& > .${v.item}`]:{paddingLeft:0}}})}return n}function Qe(e,t,s={}){if(!e||e<=0)return[];if(typeof e=="string"&&!Number.isNaN(Number(e))||typeof e=="number")return[s[`spacing-xs-${String(e)}`]];const o=[];return t.forEach(n=>{const r=e[n];Number(r)>0&&o.push(s[`spacing-${n}-${String(r)}`])}),o}const Je=S("div",{name:"MuiGrid",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:s}=e,{container:o,direction:n,item:r,spacing:c,wrap:a,zeroMinWidth:i,breakpoints:u}=s;let d=[];o&&(d=Qe(c,u,t));const m=[];return u.forEach(g=>{const f=s[g];f&&m.push(t[`grid-${g}-${String(f)}`])}),[t.root,o&&t.container,r&&t.item,i&&t.zeroMinWidth,...d,n!=="row"&&t[`direction-xs-${String(n)}`],a!=="wrap"&&t[`wrap-xs-${String(a)}`],...m]}})(({ownerState:e})=>p({boxSizing:"border-box"},e.container&&{display:"flex",flexWrap:"wrap",width:"100%"},e.item&&{margin:0},e.zeroMinWidth&&{minWidth:0},e.wrap!=="wrap"&&{flexWrap:e.wrap}),Ze,He,Xe,qe);function Ye(e,t){if(!e||e<=0)return[];if(typeof e=="string"&&!Number.isNaN(Number(e))||typeof e=="number")return[`spacing-xs-${String(e)}`];const s=[];return t.forEach(o=>{const n=e[o];if(Number(n)>0){const r=`spacing-${o}-${String(n)}`;s.push(r)}}),s}const et=e=>{const{classes:t,container:s,direction:o,item:n,spacing:r,wrap:c,zeroMinWidth:a,breakpoints:i}=e;let u=[];s&&(u=Ye(r,i));const d=[];i.forEach(g=>{const f=e[g];f&&d.push(`grid-${g}-${String(f)}`)});const m={root:["root",s&&"container",n&&"item",a&&"zeroMinWidth",...u,o!=="row"&&`direction-xs-${String(o)}`,c!=="wrap"&&`wrap-xs-${String(c)}`,...d]};return k(m,Ue,t)},tt=x.forwardRef(function(t,s){const o=$({props:t,name:"MuiGrid"}),{breakpoints:n}=le(),r=J(o),{className:c,columns:a,columnSpacing:i,component:u="div",container:d=!1,direction:m="row",item:g=!1,rowSpacing:f,spacing:w=0,wrap:F="wrap",zeroMinWidth:q=!1}=r,B=M(r,Fe),Z=f||w,H=i||w,X=x.useContext(L),E=d?a||12:X,z={},I=p({},B);n.keys.forEach(j=>{B[j]!=null&&(z[j]=B[j],delete I[j])});const P=p({},r,{columns:E,container:d,direction:m,item:g,rowSpacing:Z,columnSpacing:H,wrap:F,zeroMinWidth:q,spacing:w},z,{breakpoints:n.keys}),Q=et(P);return l.jsx(L.Provider,{value:E,children:l.jsx(Je,p({ownerState:P,className:N(Q.root,c),as:u,ref:s},I))})}),ot=tt,st="/ego-tst/assets/news-bg-6214e82c.jpg",nt=Y.div`
  background: url(${st}) no-repeat center center fixed;
  background-size: cover;
  min-height: 100vh;
  display: flex;
  flex-direction: column;
  justify-content: space-between;
`;function _(e,t){return e.length===t.length&&e.every((s,o)=>s===t[o])}const rt=({title:e,description:t,onClick:s,isDeleting:o,imageId:n})=>{const{t:r}=U(["news"]),c=`https://picsum.photos/id/${n}/600/400`;return l.jsxs(ve,{sx:{maxWidth:600,width:"100%",borderRadius:"10px"},children:[l.jsx(Le,{component:"img",alt:"mockedNewsImage",height:"140",image:c,sx:{height:"200px"}}),l.jsxs(Ge,{sx:{backgroundColor:"#3b3737",overflow:"hidden"},children:[l.jsx(R,{gutterBottom:!0,variant:"h5",color:"#fff",sx:{textOverflow:"ellipsis",whiteSpace:"nowrap",overflow:"hidden"},children:e}),l.jsx(R,{variant:"body2",color:"#fff",sx:{overflow:"hidden",display:"-webkit-box",WebkitBoxOrient:"vertical",WebkitLineClamp:3},children:t})]}),l.jsx(Ne,{sx:{backgroundColor:"#3b3737",padding:"16px"},children:l.jsx(D,{size:"small",onClick:s,disabled:o,sx:{backgroundColor:"#fff",color:"#3b3737","&:hover":{color:"red"}},children:o?r("helpers.deleting",{ns:["news"]}):r("helpers.delete",{ns:["news"]})})})]})},it=({news:e})=>{const t=V(),[s,{isLoading:o}]=ee(),n=de(),r=ue(e,{ref:n,unique:!0,trail:400/e.length,from:{opacity:0,transform:"scale(0)",width:"100%",overflow:"hidden"},enter:{opacity:1,transform:"scale(1)",width:"100%",overflow:"hidden"},leave:{opacity:0,transform:"scale(0)",width:"100%",overflow:"hidden"}});pe([n],[.1,.3]);const c=async a=>{try{await s(a).unwrap(),t(te(a))}catch(i){console.error("Error deleting news item:",i)}};return l.jsx(ot,{sx:{placeItems:"center",display:"grid",gap:"20px",gridTemplateColumns:"repeat(auto-fit, minmax(300px, 1fr))","& > div:first-of-type":{gridColumn:"1 / -1",maxWidth:"100%","& > div":{maxWidth:"100%","& > img":{height:"350px"}}}},children:e&&r((a,i)=>l.jsx(me.div,{style:a,children:l.jsx(rt,{title:i.title,description:i.body,onClick:()=>c(i.id),imageId:i.id,isDeleting:o},i.id)},i.id))})},ft=()=>{const{t:e,i18n:t}=U(["news"]),s=oe(i=>i.news),o=V(),{data:n,isLoading:r,isError:c}=se(s.limit);x.useEffect(()=>{const i=n&&_(n,s.news);if(n&&!i&&s.limit===10&&(o(T(n)),o(A(n))),n&&!i&&s.limit>10){if(_(s.cachedNews,n))return;const u=[...n].slice(s.limit-10),d=[...s.news,...u];o(A(n)),o(T(d))}},[n]);const a=()=>{o(re(s.limit+10))};return l.jsxs(nt,{children:[l.jsx(ie,{}),l.jsxs(ce,{children:[l.jsx(R,{variant:"h1",fontSize:"3rem",color:"#fff",fontWeight:700,sx:{marginBottom:"20px",marginTop:"20px",textAlign:"center"},children:e("title",{ns:["news"]})}),r&&l.jsx(O,{sx:{display:"flex",justifyContent:"center",alignItems:"center",width:"100%"},children:l.jsx(ne,{withText:!0})}),c&&l.jsx(R,{variant:"body2",color:"red",children:e("helpers.error",{ns:["news"]})}),l.jsx(it,{news:s.news},t.language),l.jsx(O,{sx:{display:"flex",justifyContent:"center",marginTop:"20px"},children:l.jsx(D,{onClick:a,sx:{backgroundColor:"#3b3737",color:"#fff","&:hover":{backgroundColor:"#fff",color:"#3b3737"}},children:e("helpers.loadMore",{ns:["news"]})})})]}),l.jsx(ae,{})]})};export{ft as default};
